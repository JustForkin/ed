<!doctype html>
<head>
  <meta charset="utf-8"/>
  <title>The Grid Post Editor</title>
  <style>
    body {
      margin: 0;
      height: 100%;
      padding: 0;
    }
  </style>
</head>
<body>
  <div id="ed"></div>
  <script src="./ed.js"></script>
  <script>
    
    window.edMount = function (options) {
      window.ed = new TheGridEd.default(
        { container: document.getElementById('ed')
        , initialContent: options.initialContent
        , menuTip: (options.menu === 'tip')
        , menuBar: (options.menu === 'bar')
        , onChange: options.onChange || function () {
            console.log('change!')
          }
        , onShareFile: options.onShareFile || function (index) {
            console.log('onShareFile index:', index)
          }
        , onShareUrl: options.onShareUrl || function (payload) {
            console.log('onShareUrl:', payload.block, payload.url)
          }
        , onPlaceholderCancel: options.onPlaceholderCancel || function (id) {
            console.log('onPlaceholderCancel:', id)
          }
        }
      )
    }

  </script>
</body>
</html>
